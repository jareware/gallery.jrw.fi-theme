<!DOCTYPE html>
<html>

  <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, user-scalable=no" />
      <title>{{gallery.title}} - {{album.title}}</title>
      <link rel="stylesheet" href="{{relative 'public/lightgallery/css/lightgallery.css'}}" />
      <link rel="stylesheet" href="{{relative 'public/videojs/video-js.min.css'}}" />
      <link rel="stylesheet" href="{{relative 'public/lightgallery/css/lg-exif.min.css'}}" />
      <link rel="stylesheet" href="{{relative 'public/core.css'}}" />
      <link rel="stylesheet" href="{{relative 'public/theme.css'}}" />
      <link rel="stylesheet" href="{{relative 'public/justifiedgallery/justifiedGallery.min.css'}}" />

      <!-- Hack the video player to use same sizing as the images, but with a max width/height -->
      <style>
        .lg-outer .lg-video-cont {
          max-width: 960px; /* that is, 1920/2 */
          height: 100vh !important;
          max-height: 960px;
        }
        .lg-outer .lg-video {
          height: 100%;
          padding-bottom: initial !important;
        }
      </style>
  </head>

  <body>

    {{> content}}
    {{> video-loader}}

    <!-- jQuery -->
    <script src="{{relative 'public/jquery.min.js'}}"></script>
    <!-- VideoJS -->
    <script src="{{relative 'public/videojs/video.min.js'}}"></script>
    <!-- LightGallery -->
    <script src="{{relative 'public/lightgallery/js/lightgallery.js'}}"></script>
    <script src="{{relative 'public/lightgallery/js/lg-autoplay.js'}}"></script>
    <script src="{{relative 'public/lightgallery/js/lg-pager.js'}}"></script>
    <script src="{{relative 'public/lightgallery/js/lg-thumbnail.js'}}"></script>
    <script src="{{relative 'public/lightgallery/js/lg-video.js'}}"></script>
    <script src="{{relative 'public/lightgallery/js/lg-exif.min.js'}}"></script>
    <script src="{{relative 'public/justifiedgallery/jquery.justifiedGallery.min.js'}}"></script>

    <script>
      $(document).ready(function() {
        $("#media").lightGallery({
          thumbWidth: 80,
          controls: true,
          loop : false,
          download: true,
          counter: true,
          videojs: true,
          showThumbByDefault: false,
          exThumbImage: 'data-exthumbimage',
        });

        // Init justified gallery for albums
        $("#albums").justifiedGallery({
          {{!-- selector: '.albumList', --}}
          margins: 10,
          rowHeight: 300,
          maxRowHeight: 325,
        });

        // Init justified gallery for photos
        $("#media").justifiedGallery({
          selector: '.albumList',
          margins: 10,
          rowHeight: 250,
          maxRowHeight: 275,
        });
      });
    </script>

    {{> analytics}}

  </body>

</html>
